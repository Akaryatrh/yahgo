@import "nib"
@import "fonts"

/*
 * HEADER
 */

#header-container

    background linear-gradient(top, #f3f3f3, #fff)
    border-bottom 1px solid #eee
    min-height 40px
    position absolute
    z-index 2
    width 100%
    top 0

    /* States */
    &.searchFocus
    &.searchActive
        // Nav is hidden whether the input is focused
        // or a search is active
        & + #nav-container
            top -100px

    &.searchActive .header #searchInfo
            display table
    &.searchFocus .header #searchInfo
            width calc(100% \- 430px)

    .header
        position relative
        overflow hidden

        /* LOGO */
        h1
            margin 0 0 0 10px
            position relative

            &:before
                transition all .3s ease
                opacity 0
                margin 0
                position absolute
                top -50px /* Hide tiny square to prevent scrollbars flickering on header */
                left 0
                content "Y"
                customFont(noveM, 20px, #ddd, 40px)
                width 40px
                height 40px
                z-index 2
                background linear-gradient(top, #555, #222)
                text-align center
            a
                &:hover
                    color #333

                float left
                customFont(noveN, 14px, #666, 40px)
                text-decoration none



        /* SHOW TOPICS / PREFS*/
        #prefs
        #showTopics
            cursor pointer

            &:before
                line-height 40px
                float right
                color #666
                text-shadow 0 1px 0 #fff
                width 30px
                text-align center

            &:hover
                &:before
                    color #333

        /* Hide menu button on large screens */
        #showTopics
            @media screen and (min-width : 599px)
                display none

        #prefs
            &:before
                margin 0 10px



        /* SEARCH BOX */
        #search
            float right

            &:before
                color #666
                line-height 40px
                text-shadow 0 1px 0 #fff
                float right
                padding 0 15px 0 0

            input
                height 40px
                border none
                background transparent
                border-left 1px solid #ededed
                padding 0 10px
                customFont(noveM)
                transition width 0.25s
                width 130px
                line-height 40px

                &:focus
                    width 250px
                    outline none

            &:hover

                input
                &:before
                    background #fff




        /* SEARCH INFO */
        #searchInfo
            display none
            position absolute
            width calc(100% \- 300px)
            margin 0 230px 0 80px

            .centerBox
                display table-cell
                text-align center
                vertical-align middle

                .innerWrapper
                    display inline-block

            .reminder
                customFont(noveM, 16px, #666, 40px)
                float left

                strong
                    color #ff6600

            .quitSearch
                float left
                margin 0 0 0 15px
                border none
                height 30px
                background none
                customFont(noveM, 14px, #ff6600, 40px)







    /* When user scroll more than header height from top, we show a tiny square */
    @media screen and (min-width : 599px)
        &.scrolled

            background none
            border: none
            position fixed
            top 0
            width 100%
            z-index 1

            .header
                overflow visible

                #prefs
                #search
                #searchInfo
                #showTopics
                    opacity 0
                h1
                    &:before
                        top 10px
                        opacity 1

                    a
                        opacity 0

            /* When user hover the tiny square, full header comes back */
            &.showMe
                background linear-gradient(top, #f3f3f3, #fff)
                border-bottom 1px solid #eee

                &.searchFocus
                &.searchActive
                    + #nav-container
                        top -100px

                + #nav-container
                    display block
                    position fixed
                    top 0

                #prefs
                #search
                #searchInfo
                #showTopics
                h1 a
                    opacity 1

                /* Tiny square must then disappears and go left to let user access home link */
                h1:before
                    left -50px
                    opacity 0