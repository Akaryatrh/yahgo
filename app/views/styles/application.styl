/*
 * nib is a powerful lib for stylus that provides cross-browser css3 mixins.
 * No more vendor prefixes. http://visionmedia.github.com/nib/
 */
@import "nib"
@import 'fonts'


fontFaces()

*
*:after
*::before
    box-sizing border-box


/*
 * GLOBAL STYLES
 */

body
    background #F3F3F3

/* Set font icon with data-icon value */
[data-icon]:before
    yahgoIcon()



/*
 *  LAYOUT
 */

/* Global */

#site-container
    position relative
    overflow hidden
    width 100%


    @keyframes spinPreload
            0%
                transform rotate(0deg)
            100%
                transform rotate(360deg)

    /*
     * PRELOADER
     */
    #preloader

        &.showMe
            display block


        &.loading
            opacity 1

        position fixed
        top calc(50% \- 35px)
        display none
        z-index 1
        opacity 0
        width 100%
        height 100%
        transition opacity .5s ease-in-out

        .square
          border 0
          width 80px
          padding 0px
          margin-left calc(50% \- 40px)
          margin-left -webkit-calc(50% \- 40px)
          margin-left -moz-calc(50% \- 40px)

        .spin
          height 70px
          width 70px
          border-radius 50%
          border dashed 5px #ccc
          -webkit-animation-name spinPreload
          -webkit-animation-duration 1.5s
          -webkit-animation-iteration-count infinite
          -webkit-animation-timing-function linear


    /*
     * ERROR NOTIFIER
     */
    #error-container
        z-index 4
        position absolute
        width 100%
        top 0

        .errorNotifier

            &.showMe
                top 0

                &:before
                    background rgba(255,255,255,.95)

            &:before
                position fixed
                width 100%
                height 100%
                background rgba(255,255,255,0)
                content ""
                left 0
                top 0
                z-index -1
                transition background .25s ease-in-out

            position absolute
            top -310px
            left 0
            right 0
            margin auto
            width 400px
            height 300px
            text-align center
            background: #e9e9e9
            border-bottom 3px solid #ddd
            transition top .5s ease-in-out
            noveCento noveM, 11px
            border-radius 5px

            .positionner
                position absolute
                left 0
                right 0
                margin auto
                bottom 10px

                h2
                    font-weight normal
                    margin 0 0 15px

                span
                    padding 15px 0
                    text-align center
                    display block
                    width 100%
                    noveCento noveM, 13px
                    border-top 1px solid #fff
                    border-bottom 1px solid #d3d3d3
                    box-shadow 0 1px 0 #fff, 0 -1px 0 #d3d3d3
                    background #eee

                button
                    border none
                    padding 10px 15px
                    margin 25px 15px 0

                    &.left
                    &.right
                        transition all .5s
                        &:hover
                            background #fff
                            border-bottom 2px solid #999

                    &.left
                        float left
                        margin-right 0
                        border-bottom 2px solid #cfcfcf

                    &.right
                        float right
                        background #fcfcfc
                        border-bottom 2px solid #ddd
                        margin-left 0



    /*
     * ITEMS
     */

    .items
        margin-top: 40px

        .item

            float left

            .item-container
                overflow hidden
                background #fff
                border 1px solid #ddd
                border-bottom 2px solid #ccc
                border-top 1px solid #ccc

                .imgContainer
                    width 100%
                    overflow hidden
                    position relative
                    border-bottom 1px solid #eee

                    .centerBox
                        left 50%
                        position absolute
                        height 100%
                        width 100%

                        img
                        canvas
                            left -50%
                            position relative
                            width inherit
                            height inherit

                .infos
                    margin 15px

                    a
                        text-decoration none
                        &:hover
                            color #333

                    .source



                        .favicon
                            margin 0 10px 0 0
                            width 16px

                        .favicon
                        .dateAndName
                            float left;
                            noveCento(noveN, 11px, #999)

                        .dateAndName
                            width calc(100% - 30px)
                            white-space nowrap
                            text-overflow ellipsis
                            overflow hidden
                            &:hover
                                color #333

                    .title
                        clear both
                        float left
                        noveCento(noveM, 14px, #666, 1.45em)
                        width 100%

                        span
                            display block
                            display -webkit-box
                            -webkit-line-clamp 3
                            -webkit-box-orient vertical
                            overflow hidden
                            text-overflow -o-ellipsis-lastline
                            max-height 38px
                            position relative

                            &:after
                                content ""
                                text-align right
                                position absolute
                                bottom 0
                                right 0
                                width 15%
                                height 1.2em
                                background linear-gradient(left, rgba(255, 255, 255, 0), 95% rgba(255, 255, 255, 1))

    /* Down to 480 */
    @media screen and (max-width: 480px)

        .item
            width 100%

            .item-container
                margin 10px
                height 300px

                .imgContainer
                    height 220px

    /* From 481 to 800*/
    @media screen and (min-width: 481px) and (max-width: 800px)
        .item

            width 50%

            &:nth-child(odd)
                .item-container
                    margin 10px 0 10px 10px

            .item-container
                margin 10px
                height 300px

                .imgContainer
                    height 220px

    /* From 800 to 1600 */
    @media screen and (min-width: 799px) and (max-width: 1599px)

        .item

            width 30%

            &:nth-child(3n+1)
                width 40%

                .item-container
                    margin 20px


            .item-container
                margin 20px 20px 20px 0
                height 325px

                .imgContainer
                    height 240px


    /* Up to 1600 */
    @media screen and (min-width: 1600px)

        .item

            width 20%

            &:nth-child(4n-3)
                width 30%

                .item-container
                    margin 20px

            &:nth-child(4n)
                width 30%

            .item-container
                margin 20px 20px 20px 0
                height 325px

                .imgContainer
                    height 240px
